#ifndef __TDF_API_STRUCT_H__ 
#define __TDF_API_STRUCT_H__
#pragma  pack(push)
#pragma pack(1)

#ifndef THANDLE
typedef void* THANDLE;
#endif

#ifndef __int64
#define __int64 long long
#endif
#define MAXSERVER 4

/******************************************************************* ???? *********************************************************************/
struct TDF_APP_HEAD
{
	int	nHeadSize;         //?????????§³
	int	nItemCount;	       //???????
	int	nItemSize;         //?????§³
};
struct TDF_MSG
{
	unsigned short  	    sFlags;		        //16¦Ë ?????.
	int  	                nDataType;	        //16¦Ë ???????? ??enum TDF_MSG_ID
	int			            nDataLen;	        //32¦Ë ??????????????TDF_APP_HEAD??????
	int			            nServerTime;		//32¦Ë?????????????????????HHMMSSmmm??????????????????????????
	int     		        nOrder;		        //32¦Ë ?????
	int                     nConnectId;         //????ID????TDF_Open????????????????
	TDF_APP_HEAD*           pAppHead;	        //????
	void*                   pData;              //???????
};
struct TDF_REFDATA_MSG
{
	int                     nReqID;
	int                     errorCode;          //==0????????-1???ETF???????-2??ETF??????
	int  	                nDataType;	        //32¦Ë ???????? ??enum TDF_MSG_ID
	int			            nDataLen;	        //32¦Ë ??????????????TDF_APP_HEAD??????
	void*                   pData;              //???????TDF_ETF_LIST_HEAD
};
struct TDF_ETF_LIST_HEAD
{
	int   nFileLength;                         //???????
	char  szFileName[64];                      //?????(20161227-SZ159949.ETF)
	void* pData;                               //???????
};
/*******************************************************************  ??????? *********************************************************************/
//??????????????????????????????????????§µ???§Ø??§Ö?,pMsgHead->pAppHead->ItemCount??¦Ï????????????????????pMsgHead->pAppHead->pData?????????????
typedef void (*TDF_DataMsgHandler)  (THANDLE hTdf, TDF_MSG* pMsgHead);    
//??????????????????????????????????????????????????????????????????????????pMsgHead->pAppHead??????, pMsgHead->pData???????????
typedef void (*TDF_SystemMsgHandler)(THANDLE hTdf, TDF_MSG* pMsgHead);  
//????????????????????????¦Ï?????
typedef void (*TDF_RefDataMsgHandler)(THANDLE hTdf, TDF_REFDATA_MSG* pMsgHead);  
/******************************************************************* ?????????? *********************************************************************/
//???????????????????
enum TDF_MSG_ID
{
    MSG_INVALID = -100,
    //?????
    MSG_SYS_DISCONNECT_NETWORK,     //?????????, ?????????NULL
    MSG_SYS_CONNECT_RESULT,         //???????????????
    MSG_SYS_LOGIN_RESULT,           //??????
    MSG_SYS_CODETABLE_RESULT,       //??????????????????????????????,????????????????§Ô????????
    MSG_SYS_QUOTATIONDATE_CHANGE,   //?????????????????????
    MSG_SYS_MARKET_CLOSE,           //???§µ????????
    MSG_SYS_HEART_BEAT,             //?????????????, ?????????NULL
    //???????
    MSG_DATA_INDEX,                 //???????
    MSG_DATA_MARKET,                //????????
    MSG_DATA_FUTURE,                //???????
    MSG_DATA_TRANSACTION,           //?????
    MSG_DATA_ORDERQUEUE,            //??§Ø???
    MSG_DATA_ORDER,                 //??????
	MSG_DATA_BBQTRANSACTION,        //BBQ??????????
	MSG_DATA_BBQBID,                //BBQ???????????
	MSG_DATA_NON_MD,				//?????????
	MSG_DATA_OTC_OPTION,			//???????
	MSG_DATA_BROKERQUEUE,           //?????????(???)

	MSG_SYS_PACK_OVER   = -10,      //???????????????
	//?¦Ï????????
	MSG_REF_ETFL_LIST  = 1,			//????¦Ï?????(??ETF???)
	//?§Ô???????
	MSG_SYS_MARKET_EVENT = -9,		//?§Ô?????????(???§Ô???????????),???????????????????????????????????

	//?????§Ô????????.?????§»??§³?§Ô??????????????????????§Ô?????????????????????MSG_SYS_CODETABLE_RESULT?????
	//???????????????§Ô????????????????????????????????
	MSG_SYS_SINGLE_CODETABLE_RESULT,	//?????§Ô????????????????????????????????§Ô??????

	MSG_SYS_QUOTEUNIT_CHANGE,	//????
	MSG_SYS_FAIL_REPLAY,			//?§Ô?????????
};

/******************************************************************* ????? *********************************************************************/
//MSG_SYS_PACK_OVER
struct TDF_PACK_OVER
{
	int nDataNumber;
	int nConID;
};
//????????MSG_SYS_CONNECT_RESULT
struct TDF_CONNECT_RESULT
{
    char szIp[32];
    char szPort[8];
    char szUser[64];
    char szPwd[64];

    unsigned int nConnResult; //?0??????????????0??????????
    int nConnectionID;        //????ID
};
//????????MSG_SYS_LOGIN_RESULT
struct TDF_LOGIN_RESULT
{
    unsigned int nLoginResult;//?0????????????????0??????????

    char szInfo[256];       //?????????
    int nMarkets;           //?§Ô?????
    char szMarket[256][8];  //?§Ô????? SZ, SH, CF, SHF, CZC, DCE
    int nDynDate[256];      //???????????
};
//????????MSG_SYS_CODETABLE_RESULT
struct TDF_CODE_RESULT
{
    char szInfo[128];       //??????????
    int nMarkets;           //?§Ô?????
    char szMarket[256][8];  //?§Ô?????
    int nCodeCount[256];    //?????????
    int nCodeDate[256];     //?????????
};
//????????MSG_SYS_SINGLE_CODETABLE_RESULT
struct TDF_SINGLE_CODE_RESULT
{
	char szMarket[8];  //?§Ô?????
	int nCodeCount;    //?????????
	int nCodeDate;     //?????????
};
//????????MSG_SYS_QUOTATIONDATE_CHANGE
struct TDF_QUOTATIONDATE_CHANGE
{
    char szMarket[8];	    //?§Ô?????
    int nOldDate;	        //?????????
    int nNewDate;	        //??????????
};
//????????MSG_SYS_MARKET_CLOSE
struct TDF_MARKET_CLOSE
{
    char    szMarket[8];        //??????????
    int		nTime;				//???(HHMMSSmmm)
    char	chInfo[64];			//???????
};


enum MARKET_EVENT_NUM
{
	ID_BREAKPOINT_RECV = -1,				//????????????
	ID_SNAP_SHOT,							//????
	ID_MARKET_OPEN,							//????
	ID_MARKET_CLEAR,						//????
	ID_MARKET_CLOSE,						//????
	ID_MARKET_TRANS,						//???
	ID_MARKET_SAVE,							//????
	ID_CLEAR_CODES,							//???????????  
	ID_SINGLE_CODE_CLEAR,					//????????????
	ID_MARKET_HEART_BEAT,					//?§Ô?????(????????)
	ID_CODE_HEART_BEAT,						//????????(??????????????)
	ID_TRANS_CODES,							//??????????
};

struct TDF_CODE;
//?§Ô????
struct TDF_MARKET_EVENT
{
	char    szMarket[12];       //?§Ô?Key
	__int64 market_time;		//?§Ô????LTC???(??19000101??????????????)
	__int64 vss_time;			//VSS???????LTC???(??19000101??????????????)
	int		nEvent;				//?¦Ï?MARKET_EVENT_NUM
	int		nDate;				//?§Ô?????
	int     nCodeSize;			//??????(???????????????????????)
	TDF_CODE* pCode;			//???????(???????????????????????)
};

//?????
struct TDF_QUOTEUNIT_CHANGE
{
	char szMarket[12];
	char szWindCode[32];
};

//????????
//???????MSG_SYS_FAIL_REPLAY
struct TDF_FAIL_REPLAY
{
	char szMarket[12];	//?§Ô???.SH-2-0???
	int nDate;			//???????????YYMMDD
	char szInfo[64];	//???????
};
/******************************************************************* ????? *********************************************************************/
//???TDF_GetCodeTable???????????????TDF_GetOptionCodeInfo?????????????????????????
struct TDF_CODE
{
    char szWindCode[32];    //Wind Code: AG1302.SHF
    char szMarket[8];       //market code: SHF-1-0
    char szCode[32];        //?? code:ag1302
    char szENName[32];
    char szCNName[32];      //chinese name: ????1302
    int nType;                            
	char szWindType[8];		//windType : FUR(???),????
	int nRecord;			//??????(marketID*64*1024+record)????????§¹
	int nLotSize;			//????????,?????§¹
};
struct TDF_OPTION_CODE
{
    TDF_CODE basicCode;
    
    char szContractID[32];// ??????????
    char szUnderlyingSecurityID[32];//// ?????????
    char chCallOrPut;               // ??????C1        ?????????????C????????????????????P??
    int  nExerciseDate;             // ?????????YYYYMMDD    
    //???????
    char chUnderlyingType;			// ?????????C3    0-A?? 1-ETF (EBS ?C ETF?? ASH ?C A ??)
	char chOptionType;              // ?????C1        ??????????????????E???????????????????????A??
	
	char chPriceLimitType;          // ?????????????C1 ??N????????????????????, ??R????????????????????
	int  nContractMultiplierUnit;	// ?????¦Ë,         ?????????????????????¦Ë, ?????????
	__int64  nExercisePrice;            // ????????,       ??????????????????????????????????????
	int  nStartDate;                // ????????????,YYYYMMDD
	int  nEndDate;                  // ??????????/??????YYYYMMDD
	int  nExpireDate;               // ??????????YYYYMMDD
};
union TD_EXCODE_INFO
{
	struct TD_OptionCodeInfo             //futures options ??? (nType >= 0x90 && nType <= 0x95),??????????????§¹
	{
		char chContractID[32];           // ??????????C19
		char szUnderlyingSecurityID[32]; // ?????????
		char chUnderlyingType;			 // ?????????C3    0-A?? 1-ETF (EBS ?C ETF?? ASH ?C A ??)
		char chOptionType;               // ?????C1        ??????????????????E???????????????????????A??
		char chCallOrPut;                // ??????C1        ?????????????C????????????????????P??
		char chPriceLimitType;           // ?????????????C1 ??N????????????????????, ??R????????????????????
		int  nContractMultiplierUnit;	 // ?????¦Ë,         ?????????????????????¦Ë, ?????????
		__int64  nExercisePrice;             // ????????,       ??????????????????????????????????????
		int  nStartDate;                 // ????????????,YYYYMMDD
		int  nEndDate;                   // ??????????/??????YYYYMMDD
		int  nExerciseDate;              // ?????????YYYYMMDD
		int  nExpireDate;                // ??????????YYYYMMDD
	}Option;
};
struct TDF_CODE_INFO
{
	int  nMarketID;           //??????ID,????????
	int  nDataLevel;          //????Level
	int  nFlag;               //???????
	int  nType;				  //??????
	char chCode[32];          //??????(??????)
	char chName[64];		  //??????????
	TD_EXCODE_INFO exCodeInfo;
	char chWindType[8];		  //windType : FUR(???),????
	int nLotSize;			  //????????,?????§¹
	char  chMarket[4];		  //?§Ô????(??:SHF)
};

//??????ID????///////////////////////////////
#ifndef ID_MARKET_DEFINE
#define ID_MARKET_DEFINE
#define ID_MARKET_SZ	0	//????
#define ID_MARKET_SH	1	//???
#define ID_MARKET_PT	2	//PT
#define ID_MARKET_HZ	3	//??????
#define ID_MARKET_SL	4	//??????§Ô?
#define ID_MARKET_MI	5	//????????
#define ID_MARKET_HK	6	//???
#define ID_MARKET_QH	7	//???
#define ID_MARKET_FE	8	//???
#define ID_MARKET_KF	9	//???(???)
#define ID_MARKET_CF	10	//?§Û????????

#define ID_MARKET_SHF	11	//????????????????
#define ID_MARKET_CZC	12	//??????
#define ID_MARKET_DCE	13	//???????
/////////////////////////////////////////////
#define ID_MARKET_CME	14  //?????????????
#define ID_MARKET_CBT	15  //?????????????
#define ID_MARKET_CMX	16  //??????????????
#define ID_MARKET_NYM	17  //???????????
#define ID_MARKET_NYB	18  //???????????
#define ID_MARKET_IPE	19	//??????????????
#define ID_MARKET_LME	20	//????????????
#define ID_MARKET_N		21  //????????
#define ID_MARKET_O		22  //???????????
#define ID_MARKET_HKF	23  //???????????/???
/////////////////////////////////////////////
#endif
/******************************************************************* ??????? *********************************************************************/
//????????MSG_DATA_BBQTRANSACTION,     
struct TDF_BBQTRANSACTION_DATA
{
	char        szWindCode[32];         //Wind Code: AG1302.SHF
	int         nActionDay;             //???????(?????)
	int			nTime;					//???(HHMMSSmmm)
	int         nDoneID;                //?????????
	__int64			nPrice;				//?????????(%)???? *10000
	char        chPriceStatus;          //???????????	1???????? 	2?????
	char        chStatus;               //???/???
	char        chDirection;            //???????	1??done	2??gvn		3??tkn		4??????
	char        chSource;               //???????	1?????? 2???????? 3???§Ô? 4?????????	5??????
	char        chSpecialFlag;          //???????????????????	0????	1????§Ñ???????		2????§Ñ??????
};
//??????MSG_DATA_BBQBID,    
struct TDF_BBQBID_DATA
{
	char        szWindCode[32];         //Wind Code: AG1302.SHF 
	int         nActionDay;             //???????(?????)
	int			nTime;					//???(HHMMSSmmm)
	char        chSource;               //???????

	__int64     nBidPrice;				//????????????? x10000
	__int64     nBidVolume;				//?????? x10000
	char        chBidPriceStatus;		//???????????	1???????? 	2?????
	char        chIsBid;				//???bid	0??????bid??????????	1????bid????????
	char        chBidSpecialFlag;		//???????????????????	0????	1????§Ñ???????		2????§Ñ??????
	char        chBidStatus;			//?????????????	0??????????	1??????????

	__int64     nOfrPrice;				//????????????? x10000
	__int64     nOfrVolume;				//??????	??????????????2000+1000???????3000??????????§Ü?- - ?????0. x10000
	char        chOfrPriceStatus;		//???????????	1???????? 	2?????
	char        chIsOfr;				//???ofr	0??????ofr??????????	  1????ofr????????
	char        chOfrSpecialFlag;		//???????????????????	0????	1????§Ñ???????		2????§Ñ??????
	char        chOfrStatus;			//?????????????	0??????????	1??????????
	int         nDoneID;                //?????????
	char		aucInfo[420];			//???????????
};
//?????????????????
struct TDF_NoSSE_Bond{
	char    chBidQuoteOrg[32];   //????
	char    chAskQuoteOrg[32];   //???????
	int     nBidCleanPrice;      //??????????
	int     nAskCleanPrice;      //????????????
	int     nBidYield;           //????????????????
	int     nAskYield;           //??????????????????
	__int64 iBidTradeVolume;     //????????????
	__int64 iAskTradeVolume;     //??????????????
	int     nBidTotalPrice;      //???????????
	int     nAskTotalPrice;      //???????????
};

//????????MSG_DATA_MARKET
struct TDF_MARKET_DATA
{
    char        szWindCode[32];         //Wind Code: AG1302.SHF
    char        szCode[32];             //?? Code
    int         nActionDay;             //???????(?????)
    int         nTradingDay;            //??????
    int			 nTime;					//???(HHMMSSmmm)
    int			 nStatus;				//??
    __int64 nPreClose;					//??????
    __int64 nOpen;						//?????
    __int64 nHigh;						//????
    __int64 nLow;						//????
    __int64 nMatch;						//?????
    __int64 nAskPrice[10];				//??????
    __int64 nAskVol[10];				//??????
    __int64 nBidPrice[10];				//?????
    __int64 nBidVol[10];				//??????
    int nNumTrades;						//???????
    __int64		 iVolume;				//???????
    __int64		 iTurnover;				//???????
    __int64		 nTotalBidVol;			//???????????
    __int64		 nTotalAskVol;			//???????????
    __int64 nWeightedAvgBidPrice;		//???????????
    __int64 nWeightedAvgAskPrice;		//????????????
    int			 nIOPV;					//IOPV??????
    int			 nYieldToMaturity;		//??????????
    __int64 nHighLimited;				//?????
    __int64 nLowLimited;				//?????
    char		 chPrefix[4];			//???????
    int			 nSyl1;					//?????1
    int			 nSyl2;					//?????2
    int			 nSD2;					//????2???????????
	TDF_NoSSE_Bond TDF_Bond;			//?????????????????
	int			 nTradeFlag;			//??????,??????¦Ï????
	
	__int64 iAfterPrice;    //?????(???????????)
	int nAfterVolume;		//?????(???????????)
	__int64 iAfterTurnover;	//????????(???????????)
	int nAfterMatchItems;   //?????????(???????????)
	
	const TDF_CODE_INFO *  pCodeInfo;   //????????? TDF_Close??????????????????§¹
};
//????????MSG_DATA_INDEX
struct TDF_INDEX_DATA
{
    char        szWindCode[32];         //Wind Code: AG1302.SHF 
    char        szCode[32];             //??Code
    int         nActionDay;             //???????(?????)
    int         nTradingDay;            //??????
    int         nTime;			        //???(HHMMSSmmm)
	int			nStatus;				//????20151223????
    __int64		    nOpenIndex;		    //???????
    __int64 	    nHighIndex;		    //??????
    __int64 	    nLowIndex;		    //??????
    __int64 	    nLastIndex;		    //???????
    __int64	    iTotalVolume;	        //??????????????????????
    __int64	    iTurnover;		        //????????????????????
    __int64		    nPreCloseIndex;	    //??????
	const TDF_CODE_INFO *  pCodeInfo;   //????????? TDF_Close??????????????????§¹
};
//????????MSG_DATA_FUTURE
struct TDF_FUTURE_DATA
{
    char        szWindCode[32];         //Wind Code: AG1302.SHF
    char        szCode[32];             //?? Code
    int         nActionDay;             //???????(?????)
    int         nTradingDay;            //??????
    int			 nTime;					//???(HHMMSSmmm)	
    int			 nStatus;				//??
    __int64		 iPreOpenInterest;		//????
    __int64 nPreClose;					//???????
    unsigned int nPreSettlePrice;		//?????
    __int64 nOpen;						//?????	
    __int64 nHigh;						//????
    __int64 nLow;						//????
    __int64 nMatch;						//?????
    __int64		 iVolume;				//???????
    __int64		 iTurnover;				//???????
    __int64		 iOpenInterest;			//???????
    __int64 nClose;						//??????
    unsigned int nSettlePrice;			//?????
    __int64 nHighLimited;				//?????
    __int64 nLowLimited;				//?????
    int			 nPreDelta;			    //???????
    int			 nCurrDelta;            //???????
    __int64 nAskPrice[5];				//??????
    __int64 nAskVol[5];					//??????
    __int64 nBidPrice[5];				//?????
    __int64 nBidVol[5];					//??????
	//Add 20140605
	__int64	nAuctionPrice;		        //???????§Ø?¦Ï???
	int	nAuctionQty;		            //???????§Ø????????????????	
	int nAvgPrice;                      //????????????
	const TDF_CODE_INFO *  pCodeInfo;   //????????? TDF_Close??????????????????§¹
};
//????????MSG_DATA_TRANSACTION
struct TDF_TRANSACTION
{
    char    szWindCode[32];             //Wind Code: AG1302.SHF
    char    szCode[32];                 //??Code
    int     nActionDay;                 //?????
    int 	nTime;		                //??????(HHMMSSmmm)
    int 	nIndex;		                //??????
    __int64		nPrice;		            //??????
    int 	nVolume;	                //???????
    __int64		nTurnover;	            //??????
    int     nBSFlag;                    //????????(??'B', ????'S', ??????' ')
    char    chOrderKind;                //??????
    char    chFunctionCode;             //???????
    int	    nAskOrder;	                //????????????
    int	    nBidOrder;	                //??????????
	const TDF_CODE_INFO *  pCodeInfo;   //????????? TDF_Close??????????????????§¹
};
//????????MSG_DATA_ORDER
struct TDF_ORDER
{
	char    szWindCode[32]; //Wind Code: AG1302.SHF
	char    szCode[32];     //??Code
	int 	nActionDay;	    //???????(YYMMDD)
	int 	nTime;			//??????(HHMMSSmmm)
	int 	nOrder;	        //??§Ü?
	__int64		nPrice;		//??§Þ??
	int 	nVolume;		//???????
	char    chOrderKind;	//??????
	char    chFunctionCode;	//??§Õ???('B','S','C')
	int     nBroker;		//?????????(PT?§Ô???§¹)
	char    chStatus;		//?????(PT?§Ô???§¹)
	char	chFlag;			//???(PT?§Ô???§¹)
	const TDF_CODE_INFO *  pCodeInfo;     //????????? TDF_Close??????????????????§¹
};
//????????MSG_DATA_ORDERQUEUE
struct TDF_ORDER_QUEUE
{
	char    szWindCode[32]; //Wind Code: AG1302.SHF 
	char    szCode[32];     //?? Code
	int     nActionDay;     //?????
	int 	nTime;			//???(HHMMSSmmm)
	int     nSide;			//????????('B':Bid 'A':Ask)
	__int64		nPrice;		//??§Þ??
	int 	nOrders;		//????????
	int 	nABItems;		//???????
	int 	nABVolume[200];	//???????
	const TDF_CODE_INFO *  pCodeInfo;     //????????? TDF_Close??????????????????§¹
};

//?????????????????MSG_DATA_OTC_OPTION
struct TDF_OTC_Option{

	char  szWindCode[32];		//Wind Code: AG1302.SHF
	char  szCode[32];			//?? Code
	char  szWindType[8];		//windType : FUR.SHF(?????????)

	char chOptionType;			// ?????C1        ??????????????????E???????????????????????A??
	char chCallOrPut;			// ??????C1        ?????????????C????????????????????P??
	__int64  iExercisePrice;	// ????????,  

	int  nTime;					// ??????
	int  nVolume;				// ?????
	__int64 iMatch;				// ?????
	__int64 iPreSettlement;		// ???????
	__int64 iSettlement;		// ?????
	int nPrePosition;			// ???????
	int nPosition;				// ?????
	__int64 iAskPrice;			// ??????
	__int64 iBidPrice;			// ?????
	int nAskVol;				// ???????
	int nBidVol;				// ???????
	const TDF_CODE_INFO *  pCodeInfo;     //????????? TDF_Close??????????????????§¹
};

/******************************************************************* ??????? *********************************************************************/
enum DATA_TYPE_FLAG
{
	DATA_TYPE_TRANSACTION = 0x2,           //?????
	DATA_TYPE_ORDER       = 0x4,           //??????
	DATA_TYPE_ORDERQUEUE  = 0x8,           //??§Ø??? 
	DATA_TYPE_NONE = 0,                    //?????????????????????????????DATA_TYPE_TRANSACTION | DATA_TYPE_ORDER | DATA_TYPE_ORDERQUEUE
};
enum SUBSCRIPTION_STYLE
{
	SUBSCRIPTION_FULL = 3,                //??§Ô?????
	SUBSCRIPTION_SET=0,                   //??????????§Ò??§Û????
	SUBSCRIPTION_ADD=1,                   //????????§Ò??§Û??
	SUBSCRIPTION_DEL=2,                   //????§Ò??§Ö????
};

/******************************************************************* ???? *********************************************************************/
//??????????????TDF_Open??????k
enum TDF_ENVIRON_SETTING
{
	TDF_ENVIRON_HEART_BEAT_INTERVAL,		//Heart Beat???????????, ????0????????10????
	TDF_ENVIRON_MISSED_BEART_COUNT,			//??????????????????????????????????????¦Ê?????????§Ø??????????0???????2??
	TDF_ENVIRON_OPEN_TIME_OUT,				//???TDF_Open?????????????????????????????????TDF_Open?????????????????????0?????30??
	TDF_ENVIRON_USE_PACK_OVER,				//????????????
	TDF_ENVIRON_HEART_BEAT_FLAG,			//?????????????(0: ????????????? 1???????????????????????????2???§Û??????????????)
	TDF_ENVIRON_SOURCE_MODE,				//??????????,??¦Ï?TDF_SOURCE_SETTING?????
	TDF_ENVIRON_SOURCE_MODE_VALUE,			//??????????????????
	TDF_ENVIRON_OUT_LOG,					//1????????????log???????????????log????????????log???????
	TDF_ENVIRON_SNAPSHOT_ENENT,				//1???????????????????????????????????????????????????????????????????????, ??????
	TDF_ENVIRON_ORIGINAL_VOL,				//??????§¹??1??????????????????¦Ë???????????100???100?
	TDF_ENVIRON_BREAKPOINT,					//1.????????????????else.???????????
	TDF_ENVIRON_SWITCH_SAME,				//switch?????????§³??????????????????????????????§¹?
};
//?????????
enum TDF_SOURCE_SETTING
{
	TDF_SOURCE_MERGE,						//?????????????????????????????
	TDF_SOURCE_SWITCH,						//????§Ý????????????????????????????§Ý????????5000???????????TDF_ENVIRON_SOURCE_MODE_VALUE????????
};
//?????????????????????????????????????????????????API??¡Â?????
//????API???????nReconnectCount??nReconnectGap??nProtocol??nDate
struct TDF_OPEN_SETTING
{
    char szIp[32];
    char szPort[8];
    char szUser[64];
    char szPwd[64];
	//???????????
	TDF_DataMsgHandler pfnMsgHandler;			//?????????????
	TDF_SystemMsgHandler pfnSysMsgNotify;		//??????????

	//????????									--??????????§Ô????????????????§Ô????????§Ô????????????§Ô?????????§Ô????????
	const char* szMarkets;						// ?§Ô?????(??)??????"SZ;SH;CF;SHF;DCE;SHF"???????????§Ô??§Ò????;?????
	const char* szResvMarkets;					// ?§Ô?????(?)??????"SZ;SH;CF;SHF;DCE;SHF"???????????§Ô??§Ò????;??????????""	
	const char* szSubScriptions;				// ??????,????"600000.sh;ag.shf;000001.sz"????????????(?????????????Code+.+?§Ô?????999999.SH)?????;??????????????§Ô?
	unsigned int nTypeFlags;					// ??????????????????3??????TRANSACTION;ORDER;ORDERQUEUE?? ??????????????¦Ê?????????????????! ?¦Ì?enum DATA_TYPE_FLAG

	unsigned int nTime;							//?0????????????(0xffffffff???????,??????)
	unsigned int nConnectionID;					//????ID????????????????? TDF_CONNECT_RESULT?? ????????ID
};

//???????????
struct TDF_SERVER_INFO
{
	char szIp[32];		//IP
	char szPort[8];		//???
	char szUser[64];	//?????
	char szPwd[64];		//????
};
struct TDF_OPEN_SETTING_EXT
{
	//??????????
	TDF_SERVER_INFO	siServer[MAXSERVER];	//?????????
	unsigned int nServerNum;				//??????????
	//???????????
	TDF_DataMsgHandler pfnMsgHandler;       //?????????????
	TDF_SystemMsgHandler pfnSysMsgNotify;   //??????????
	
	//unsigned int nProtocol;               //§¿?????0???????????0x6001
	//????????                              --??????????§Ô????????????????§Ô????????§Ô????????????§Ô?????????§Ô????????
	const char* szMarkets;					// ?§Ô?????(??)??????"SZ-2-0;SH-1-1;"???????????§Ô??§Ò????;?????
	const char* szResvMarkets;              // ?§Ô?????(?)??????"SZ-2-0;SH-1-1;"???????????§Ô??§Ò????;?????,?????""
	const char* szSubScriptions;            // ??????,????"600000.sh;ag.shf;000001.sz"????????????(?????????????Code+.+?§Ô?????999999.SH)?????;??????????????§Ô?
	unsigned int nTypeFlags;                // ??????????????????3??????TRANSACTION;ORDER;ORDERQUEUE?? ??????????????¦Ê?????????????????! ?¦Ì?enum DATA_TYPE_FLAG

	unsigned int nTime;                     //?0?????????????0xffffffff???????
	unsigned int nConnectionID;             //????ID????????????????? TDF_CONNECT_RESULT?? ????????ID??????????????ID
};
//?????????????
enum TDF_PROXY_TYPE
{
	TDF_PROXY_SOCK4,
	TDF_PROXY_SOCK4A,
	TDF_PROXY_SOCK5,
	TDF_PROXY_HTTP11,
};
struct TDF_PROXY_SETTING
{
	TDF_PROXY_TYPE nProxyType;	//????????
	char szProxyHostIp[32];		//????IP
	char szProxyPort[8];		//??????
	char szProxyUser[32];		//?????????
	char szProxyPwd[32];		//????????
};
//?????????????????????????????????+????
struct ConStatInfo
{
	__int64  iTotalPacks;		//???
	__int64  iTotalTraffic;		//??????
	int      nToalConTimes;		//???????
	__int64  ilastConTime;		//?????????????+????
};

//??¦Ï????????
struct TDF_OPEN_REFDATA_SETTING
{
	char szIp[32];
	char szPort[8];
	char szUser[64];
	char szPwd[64];
	//???????????
	TDF_RefDataMsgHandler pfnRefDataHandler;       //?¦Ï??????????????
};

//?????????????
struct TDF_NON_MD_DATA
{
	int nItemSize;					//???????????§³
	int nMsgType;					//?????????????
	char pData[1024*1024 - 8];		//?????????????
};

//?????????(HK)/////////////////////////////////////
struct TD_BrokerQueue
{
	char  szWindCode[32];				//Wind Code: AG1302.SHF
	char  szCode[32];					//?? Code
	int   nActionDay;					//?????
	int   nAskTime;						// ???????HHMMSSmmm??
	int   nBidTime;						// ???????HHMMSSmmm??
	int   nAskBrokers;					// ???????????
	int   nBidBrokers;					// ????????
	short sAskBroker[40];				// ?????40????
	short sBidBroker[40];				// ?????40????
	const TDF_CODE_INFO *  pCodeInfo;    //????????? TDF_Close??????????????????§¹
};

#pragma pack(pop)
#endif
